{% extends 'base/head.html' %}
{% load core_extras %}
{% block content %}

<style type="text/css">
	#table_followup tr{
		height: 80px
	}

	#table_schedule tr{
		height: 80px
	}
	.gadget_green{
		white-space: nowrap;background-color: #e8f5eb;border-radius: 10px;position: relative;   
	}
</style>
<div class="row">
	<div class="card col-12">
		<div class="card-header">
			<h5 class="card-title">Client Detail & Info</h5>
		</div>
		<div class="card-body">
			<div class="row">
				<!-- 
				<dir class="col text-right" >
					<a class="btn btn-success" id="download-btn">Export</a>
				</dir> -->
			</div>	
			<form method="POST" id="export_form">
				{% csrf_token %}
				<input hidden id="download_param" name="download_excel" value="0"> 
			</form>
			<div class="row">
				<div class="col">
					<h5 class="m-0" style="padding-left: 4px;">Report date</h5>
					<div class='input-group date datepicker' id='date-pick-from' onchange="change_filter()">
					  <input type='text' name="tgl" id="date-from-val" class="form-control" value="{{request.GET.date}}" />
					  <span class="input-group-addon">
						<span class="glyphicon glyphicon-calendar"></span>
					  </span>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
<div class="row">
	<div class="card col-12 px-2">
		<div class="card-body">
			<div class="row">
				<div class="col-12">
					<h5 style="color:green">Bonus FTD</h5>
				</div>
			</div>
			<div class="row mb-3 py-2" style="line-height: 1">
				<div class="col py-2" >
					<div class="mr-3 gadget_green p-3">
						<h1 class="p-0 m-0" style="color:green;font-size: 2.5em;line-height:1">{{total_client_ftd|default:"-"}}</h1>
						<p class="mb-0">Total Client</p>
					</div>
				</div>
				<div class="col py-2" >
					<div class="mr-3 gadget_green p-3">
						<h1 class="p-0 m-0" style="color:green;font-size: 2.5em;line-height:1">{{total_client_ftd_usd|num_format|default:'-'}}</h1>
						<p class="mb-0">Total Amount FTD</p>
					</div>
				</div>
				<div class="col py-2" >
					<div class="mr-3 gadget_green p-3">
						<h1 class="p-0 m-0" style="color:green;font-size: 2.5em;line-height:1">{{total_client_bonus_ftd|num_format|default:"-"}}</h1>
						<p class="mb-0">Total Bonus</p>
					</div>
				</div>
			</div>
			<!-- taro disini -->
			<div class="row">
				<div class="col-12">
					<table class="table" id="table_ftd" style="max-height: 100vh">
						<thead>
							<tr>
								<th scope="col">#</th>
								<th scope="col">Staff Name</th>
								<th scope="col">Client Name</th>
								<th scope="col">Supervisor Name</th>
								<th scope="col">login</th>
								<th scope="col">TFD</th>
								<th scope="col">Time</th>
							</tr>
						</thead>
						<tbody>
							{% for supervisor, staff_ftp_dict in supervisor_staff_dict.items %}
								{% for staff, ftd_dict in staff_ftp_dict.items %}
								{% with ftd_dict.list_ftd as client_ftd_list %}
									{% for client_ftd in client_ftd_list %}
										<tr>
											<th scope="row">{{client_ftd.index_loop}}</th>
											<th scope="row">{{staff.profile.full_name}}</th>
											<th scope="row">{{client_ftd_user_magnet_dict|dict_get:client_ftd.userid}}</th>
											<th scope="row">{{staff.staff_parent.profile.full_name}}</th>
											{% comment %}
											<th scope="row">{{client_ftd.userid}}</th>
											{% endcomment %}
											<td>
											   {{client_ftd.login}}
											</td>
											<td>
												{{client_ftd.ftd}}
											</td>
											<td>
												{{client_ftd.time}}
											</td>
										</tr>
								{% endfor %}
								{% endwith %}
								{% endfor %}
							{% endfor %}
						</tbody>
					</table>
					
				</div>
			</div>
		</div>
	</div>
</div>
<div class="row">
	<div class="card col-12 px-2">
		<div class="card-body">
			<div class="row">
				<div class="col-12">
					<h5 style="color:green">Total Bonus</h5>
				</div>
			</div>
			<div class="row mb-3 py-2" style="line-height: 1">
				<div class="col py-2" >
					<div class="mr-3 gadget_green p-3">
						<h1 class="p-0 m-0" style="color:green;font-size: 2.5em;line-height:1">{{all_bonus_dict.total_idr|str_currency|default:"-"}}</h1>
						<p class="mb-0">Total Bonus IDR</p>
					</div>
				</div>
				<div class="col py-2" >
					<div class="mr-3 gadget_green p-3">
						<h1 class="p-0 m-0" style="color:green;font-size: 2.5em;line-height:1">{{all_bonus_dict.total_usd|num_format|default:"-"}}</h1>
						<p class="mb-0">Total Bonus $US</p>
					</div>
				</div>
				<div class="col py-2" >
					<div class="mr-3 gadget_green p-3">
						<h1 class="p-0 m-0" style="color:green;font-size: 2.5em;line-height:1">{{all_bonus_dict.total_lot|num_format|default:'-'}}</h1>
						<p class="mb-0">Total LOT</p>
					</div>
				</div>
				
			</div>
			<div class="row">
				<div class="col-6">
					<h5 style="color:green">Bonus Supervisor</h5>
				</div>
				<div class="col-6">
					<h5 style="color:green">Bonus Staff</h5>
				</div>
			</div>
			<div class="row mb-3" style="line-height: 1">
				<div class="col-6" style="display: flex;">
					<div class="py-2 " style="width:100%" >
						<div style="" class="mr-3 gadget_green p-3">
							<h1 class="p-0 m-0" style="color:green;font-size: 2.5em;line-height:1">
								
								{{supervisor_total_idr|str_currency|default:'-'}}
								
							</h1>
							<p class="mb-0">Supervisor Total Bonus IDR</p>
						</div>
						
					</div>
				</div>
				<div class="col-6" style="display: flex;">
					<div class="py-2 " style="width:100%" >
						<div style="" class="mr-3 gadget_green p-3">
							<h1 class="p-0 m-0" style="color:green;font-size: 2.5em;line-height:1">
								
								{{staff_total_idr|str_currency|default:'-'}}
								
							</h1>
							<p class="mb-0">Staff Total Bonus IDR</p>
						</div>
						
					</div>
				</div>
			</div>
			<div class="row mb-3" style="line-height: 1">
				<div class="col-6" style="display: flex;">
					<div class="py-2 " >
						<div style="display: inline-block;" class="mr-3 gadget_green p-3">
							<h1 class="p-0 m-0" style="color:green;font-size: 2.5em;line-height:1">
								
								{{supervisor_total_usd|str_currency|default:'-'}}
								
							</h1>
							<p class="mb-0">Total Bonus $US</p>
						</div>
						
					</div>
					<div class="py-2 " >
						<div style="display: inline-block;" class="mr-3 gadget_green p-3">
							<h1 class="p-0 m-0" style="color:green;font-size: 2.5em;line-height:1">
								{{supervisor_total_lot|str_currency|default:'-'}}
							</h1>
							<p class="mb-0">Total Bonus LOT</p>
						</div>
						
					</div>   

				</div>
				<div class="col-6" style="display: flex;">
					<div class="py-2 " >
						<div style="display: inline-block;" class="mr-3 gadget_green p-3">
							<h1 class="p-0 m-0" style="color:green;font-size: 2.5em;line-height:1">
								
								{{staff_total_usd|str_currency|default:'-'}}
								
							</h1>
							<p class="mb-0">Total Bonus $US</p>
						</div>
						
					</div>
					<div class="py-2 " >
						<div style="display: inline-block;" class="mr-3 gadget_green p-3">
							<h1 class="p-0 m-0" style="color:green;font-size: 2.5em;line-height:1">
								{{staff_total_lot|str_currency|default:'-'}}
							</h1>
							<p class="mb-0">Total Bonus LOT</p>
						</div>
						
					</div>   

				</div>
			</div>
			<!-- <div class="row">
				<div class="col-4">
					<h5 style="color:green">Bonus Total 2 Bulan</h5>
				</div>
				<div class="col-4">
					<h5 style="color:green">Bonus Supervisor 2 Bulan</h5>
				</div>
				<div class="col-4">
					<h5 style="color:green">Bonus Staff 2 Bulan</h5>
				</div>
			</div>
			<div class="row mb-3" style="line-height: 1">
				<div class="col-4" style="display: flex;">
					<div class="py-2 " >
						<div style="display: inline-block;" class="mr-3 gadget_green p-3">
							<h1 class="p-0 m-0" style="color:green;font-size: 2.5em;line-height:1">
								
								{{two_months_bonus_dict.total.total_usd|str_currency|default:'-'}}
								
							</h1>
							<p class="mb-0">Total Bonus $US</p>
						</div>
						
					</div>
					<div class="py-2 " >
						<div style="display: inline-block;" class="mr-3 gadget_green p-3">
							<h1 class="p-0 m-0" style="color:green;font-size: 2.5em;line-height:1">
								{{two_months_bonus_dict.total.total_idr|str_currency|default:'-'}}
							</h1>
							<p class="mb-0">Total Bonus IDR</p>
						</div>
						
					</div>   
				</div>
				<div class="col-4" style="display: flex;">
					<div class="py-2 " >
						<div style="display: inline-block;" class="mr-3 gadget_green p-3">
							<h1 class="p-0 m-0" style="color:green;font-size: 2.5em;line-height:1">
								
								{{two_months_bonus_dict.supervisor.total_usd|str_currency|default:'-'}}
								
							</h1>
							<p class="mb-0">Total Bonus $US</p>
						</div>
						
					</div>
					<div class="py-2 " >
						<div style="display: inline-block;" class="mr-3 gadget_green p-3">
							<h1 class="p-0 m-0" style="color:green;font-size: 2.5em;line-height:1">
								{{two_months_bonus_dict.supervisor.total_idr|str_currency|default:'-'}}
							</h1>
							<p class="mb-0">Total Bonus IDR</p>
						</div>
						
					</div>   
				</div>
				<div class="col-4" style="display: flex;">
					<div class="py-2 " >
						<div style="display: inline-block;" class="mr-3 gadget_green p-3">
							<h1 class="p-0 m-0" style="color:green;font-size: 2.5em;line-height:1">
								
								{{two_months_bonus_dict.staff.total_usd|str_currency|default:'-'}}
								
							</h1>
							<p class="mb-0">Total Bonus $US</p>
						</div>
						
					</div>
					<div class="py-2 " >
						<div style="display: inline-block;" class="mr-3 gadget_green p-3">
							<h1 class="p-0 m-0" style="color:green;font-size: 2.5em;line-height:1">
								{{two_months_bonus_dict.staff.total_idr|str_currency|default:'-'}}
							</h1>
							<p class="mb-0">Total Bonus IDR</p>
						</div>
						
					</div>   
				</div>
			</div> -->
			<div class="row mb-3">
				<div class="col-12 col-custom-table" style="height: 100%;">
					<div class="card">
						<div class="card-header" style="background-color: #e8f5eb;">
							<div style="width:100%" class="d-flex justify-content-between">
								<h6 class="card-title "> 
									<a data-toggle="collapse" class="text-body collapsed" href="#collapsible-control-right-group1" aria-expanded="false" id="two-months-supervisor-collaspe"># Supervisor Bonus Detail 
									</a>
								</h6>
								<div style="display:flex;flex-direction:column; justify-content:flex-end">
									<span style="color: green;font-weight:bold;text-align: right;">Rp. {{two_months_bonus_dict.supervisor.total_idr|str_currency}}</span>
								  	<span style="color: green;font-weight:bold;text-align: right">$ {{two_months_bonus_dict.supervisor.total_usd|str_currency}}</span>
								  	<span style="color: green;font-weight:bold;text-align: right">Lot {{two_months_bonus_dict.supervisor.total_lot|str_currency}}</span>
								</div>
								
								
							</div>
						</div>

						<div id="collapsible-control-right-group1" class="collapse" style="">
							<div class="card-body">
								<table class="table" id="two_months_supervisor_table_bonus_detail-1" style="max-height: 100vh">
									<thead>
										<tr>
											<th scope="col">#</th>
											<th scope="col">SPV Name</th>
											<th scope="col">Account Type</th>
											<th scope="col">Lot</th>
											<th scope="col">Bonus</th>
											<th scope="col">Bonus Total IDR</th>
										</tr>
									</thead>
									<tbody>
										{% for supervisor_id, bonus_detail in supervisor_two_months_trades.items %}
											{% if 'total' not in bonus_detail %}
												<tr>
													<td >{{forloop.counter}}</td> 
													<td >{{staff_id_name_dict|dict_get:supervisor_id}}</td>
													<td >ALL</td> 
													<td >{{bonus_detail.total_lot|str_currency}}</td> 
													<td >{{bonus_detail.total_usd|str_currency}}</td> 
													<td >Rp. {{bonus_detail.total_idr|str_currency}}</td> 
												<tr>
											{% endif %}
										{% endfor %}
									</tbody>
								</table>
								{% comment %}
								<table class="table" id="two_months_supervisor_table_bonus_detail-1" style="max-height: 100vh">
									<thead>
										<tr>
											<th scope="col">#</th>
											<th scope="col">SPV Name</th>
											<th scope="col">Staff Name</th>
											<th scope="col">Client Name</th>
											<th scope="col">Created At</th>
											<th scope="col">Account Age (Days)</th>
											<th scope="col">Login</th>
											<th scope="col">Account Type</th>
											<!-- <th scope="col">Bonus</th> -->
											<th scope="col">Lot</th>
											<th scope="col">Bonus</th>
											<th scope="col">Bonus Total (Bonus * Lot)</th>
											<th scope="col">Bonus Total Rupiah (Bonus * Rate)</th>
											<th scope="col">Rate</th>
											
										</tr>
									</thead>
									<tbody>

									{% for supervisor_id, account_type_dict in supervisor_two_months_trades.items %}
										{% for account_type, trade_dict in account_type_dict.items %}
											{% with trade_dict.trade_list as trade_list %}
												{% for trade in trade_list %}
													<tr>
													   <td >{{forloop.counter}}</td> 
														
														<td >{{staff_id_name_dict|dict_get:supervisor_id}}</td>
														<td >{{trade.staff_name}}</td>
														<td >{{trade.client_name}}</td>
														<td >{{trade.created_at|date:'d-m-Y H:i'}}</td>
														<td style="text-align:center">{{trade.account_ages}} days</td>
														
														<td scope="row">{{trade.login_id}}</td>
														
														<td style="text-align:center">{{account_type}}</td>
														
														<td>
														   {{trade.total_lot}}
														</td>
														
														
														<td style="text-align:center">
															{{trade.supervisor_bonus}}
														</td>

														<td style="text-align:right">
															{{trade.supervisor_usd_bonus}}$
														</td>

														<td style="text-align:right;">
															Rp. {{trade.supervisor_idr_bonus|str_currency}}
														</td>
														<td style="text-align:center">
															{{trade.rate}}
														</td>
																		
														
														
													</tr>
												{% endfor %}
											{% endwith %}
										{% endfor %}
									{% endfor %}
									</tbody>
								</table>
								{% endcomment %}			
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="row mb-3">
				<div class="col-12 col-custom-table" style="height: 100%;">
					<div class="card">
						<div class="card-header" style="background-color: #e8f5eb;">
							<div style="width:100%" class="d-flex justify-content-between">
								<h6 class="card-title">
									<a data-toggle="collapse" class="text-body collapsed" href="#supervisor-bonus-more-detail-table-container" aria-expanded="false" id="two-months-staff-collaspe"># Supervisor Bonus Detail > 2 bulan</a>
								</h6>
								<div style="display:flex;flex-direction:column; justify-content:flex-end">
									<span style="color: green;font-weight:bold;text-align: right">Rp. {{more_two_months_bonus_dict.supervisor.total_idr|str_currency}}</span>
								  	<span style="color: green;font-weight:bold;text-align: right">$ {{more_two_months_bonus_dict.supervisor.total_usd|str_currency}}</span>
								  	<span style="color: green;font-weight:bold;text-align: right">Lot {{more_two_months_bonus_dict.supervisor.total_lot|str_currency}}</span>
								</div>
							</div>

						</div>

						<div id="supervisor-bonus-more-detail-table-container" class="collapse" style="">
							<div class="card-body">
								<table class="table" id="two_months_supervisor_table_bonus_detail-1" style="max-height: 100vh">
									<thead>
										<tr>
											<th scope="col">#</th>
											<th scope="col">SPV Name</th>
											<th scope="col">Account Type</th>
											<th scope="col">Lot</th>
											<th scope="col">Bonus</th>
											<th scope="col">Bonus Total IDR</th>
										</tr>
									</thead>
									<tbody>
										{% for supervisor_id, bonus_detail in supervisor_more_two_months_trades.items %}
											{% if 'total' not in bonus_detail %}
												<tr>
													<td >{{forloop.counter}}</td> 
													<td >{{staff_id_name_dict|dict_get:supervisor_id}}</td>
													<td >ALL</td> 
													<td >{{bonus_detail.total_lot|str_currency}}</td> 
													<td >{{bonus_detail.total_usd|str_currency}}</td> 
													<td >Rp. {{bonus_detail.total_idr|str_currency}}</td> 
												<tr>
											{% endif %}
										{% endfor %}
									</tbody>
								</table>			
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="row mb-3">
				<div class="col-12 col-custom-table" style="height: 100%;">
					<div class="card">
						<div class="card-header" style="background-color: #e8f5eb;">
							<div style="width:100%" class="d-flex justify-content-between">
							<h6 class="card-title">
								<a data-toggle="collapse" class="text-body collapsed" href="#supervisor-bonus-pribadi-detail-table-container" aria-expanded="false" id="supervisor-pribadi-collaspe"># Supervisor Bonus Pribadi
								</a>
							</h6>
							<div style="display:flex;flex-direction:column; justify-content:flex-end">
									<span style="color: green;font-weight:bold;text-align: right">Rp. {{data_pribadi_months_bonus_dict.supervisor.total_idr|str_currency}}</span>
								  	<span style="color: green;font-weight:bold;text-align: right">$ {{data_pribadi_months_bonus_dict.supervisor.total_usd|str_currency}}</span>
								  	<span style="color: green;font-weight:bold;text-align: right">Lot {{data_pribadi_months_bonus_dict.supervisor.total_lot|str_currency}}</span>
								</div>
							</div>

						</div>

						<div id="supervisor-bonus-pribadi-detail-table-container" class="collapse" style="">
							<div class="card-body">
								<table class="table" id="pirbadi_supervisor_table_bonus_detail-1" style="max-height: 100vh">
									<thead>
										<tr>
											<th scope="col">#</th>
											<th scope="col">SPV Name</th>
											<th scope="col">Account Type</th>
											<th scope="col">Lot</th>
											<th scope="col">Bonus</th>
											<th scope="col">Bonus Total IDR</th>
										</tr>
									</thead>
									<tbody>
										{% for supervisor_id, bonus_detail in supervisor_data_pribadi_trades.items %}
											{% if 'total' not in bonus_detail %}
												<tr>
													<td >{{forloop.counter}}</td> 
													<td >{{staff_id_name_dict|dict_get:supervisor_id}}</td>
													<td >ALL</td> 
													<td >{{bonus_detail.total_lot|str_currency}}</td> 
													<td >{{bonus_detail.total_usd|str_currency}}</td> 
													<td >Rp. {{bonus_detail.total_idr|str_currency}}</td> 
												<tr>
											{% endif %}
										{% endfor %}
									</tbody>
								</table>			
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="row mb-3">
				<div class="col-12 col-custom-table" style="height: 100%;">
					<div class="card">
						<div class="card-header" style="background-color: #e8f5eb;">
							<div style="width:100%" class="d-flex justify-content-between">
								<h6 class="card-title">
									<a data-toggle="collapse" class="text-body collapsed" href="#staff-bonus-detail-table-container" aria-expanded="false" id="two-months-staff-collaspe"># Staff Bonus Detail
									</a>
								</h6>
								<div style="display:flex;flex-direction:column; justify-content:flex-end">
									<span style="color: green;font-weight:bold;text-align: right">Rp. {{two_months_bonus_dict.staff.total_idr|str_currency}}</span>
								  	<span style="color: green;font-weight:bold;text-align: right">$ {{two_months_bonus_dict.staff.total_usd|str_currency}}</span>
								  	<span style="color: green;font-weight:bold;text-align: right">Lot {{two_months_bonus_dict.staff.total_lot|str_currency}}</span>
								</div>
							</div>
							</div>

						</div>

						<div id="staff-bonus-detail-table-container" class="collapse" style="">
							<div class="card-body">
								<table class="table" id="two_months_staff_table_bonus_detail-1" style="max-height: 100vh">
									<thead>
										<tr>
											<th scope="col">#</th>
											<th scope="col">Staff </th>
											<th scope="col">Account Type</th>
											<th scope="col">Lot</th>
											<th scope="col">Bonus</th>
											<th scope="col">Bonus Total IDR</th>
										</tr>
									</thead>
									<tbody>
										{% for staff_id, bonus_detail in supervisor_data_pribadi_trades.items %}
											{% if 'total' not in bonus_detail %}
												<tr>
													<td >{{forloop.counter}}</td> 
													<td >{{staff_id_name_dict|dict_get:staff_id}} - {{staff_id}}</td>
													<td >ALL</td> 
													<td >{{bonus_detail.total_lot|str_currency}}</td> 
													<td >{{bonus_detail.total_usd|str_currency}}</td> 
													<td >Rp. {{bonus_detail.total_idr|str_currency}}</td> 
												<tr>
											{% endif %}
										{% endfor %}
									</tbody>
								</table>
								{% comment %}
								<table class="table" id="two_months_staff_table_bonus_detail-1" style="max-height: 100vh">
									<thead>
										<tr>
											<th scope="col">#</th>
											<th scope="col">SPV Name</th>
											<th scope="col">Staff Name</th>
											<th scope="col">Client Name</th>
											<th scope="col">Created At</th>
											<th scope="col">Account Age (Days)</th>
											<th scope="col">Login</th>
											<th scope="col">Account Type</th>
											<!-- <th scope="col">Bonus</th> -->
											<th scope="col">Lot</th>
											<th scope="col">Bonus</th>
											<th scope="col">Bonus Total (Bonus * Lot)</th>
											<th scope="col">Bonus Total Rupiah (Bonus * Rate)</th>
											<th scope="col">Rate</th>
											
										</tr>
									</thead>
									<tbody>

									{% for supervisor_id, account_type_dict in supervisor_two_months_trades.items %}
										{% for account_type, trade_dict in account_type_dict.items %}
											{% with trade_dict.trade_list as trade_list %}
												{% for trade in trade_list %}
													<tr>
													   <td >{{forloop.counter}}</td> 
														
														<td >{{staff_id_name_dict|dict_get:supervisor_id}}</td>
														<td >{{trade.staff_name}}</td>
														<td >{{trade.client_name}}</td>
														<td >{{trade.created_at|date:'d-m-Y H:i'}}</td>
														<td style="text-align:center">{{trade.account_ages}} days</td>
														
														<td scope="row">{{trade.login_id}}</td>
														
														<td style="text-align:center">{{account_type}}</td>
														
														<td>
														   {{trade.total_lot}}
														</td>
														
														
														<td style="text-align:center">
															{{trade.supervisor_bonus}}
														</td>

														<td style="text-align:right">
															{{trade.supervisor_usd_bonus}}$
														</td>

														<td style="text-align:right;">
															Rp. {{trade.supervisor_idr_bonus|str_currency}}
														</td>
														<td style="text-align:center">
															{{trade.rate}}
														</td>
																		
														
														
													</tr>
												{% endfor %}
											{% endwith %}
										{% endfor %}
									{% endfor %}
									</tbody>
								</table>
								{% endcomment %}			
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="row mb-3">
				<div class="col-12 col-custom-table" style="height: 100%;">
					<div class="card">
						<div class="card-header" style="background-color: #e8f5eb;">
							<div style="width:100%" class="d-flex justify-content-between">
								<h6 class="card-title">
									<a data-toggle="collapse" class="text-body collapsed" href="#staff-bonus-more-detail-table-container" aria-expanded="false" id="two-months-staff-collaspe"># Staff Bonus Detail > 2 bulan
									</a>
								</h6>
								<div style="display:flex;flex-direction:column; justify-content:flex-end">
									<span style="color: green;font-weight:bold;text-align: right">Rp. {{more_two_months_bonus_dict.staff.total_idr|str_currency}}</span>
								  	<span style="color: green;font-weight:bold;text-align: right">$ {{more_two_months_bonus_dict.staff.total_usd|str_currency}}</span>
								  	<span style="color: green;font-weight:bold;text-align: right">Lot {{more_two_months_bonus_dict.staff.total_lot|str_currency}}</span>
								</div>
							</div>
						</div>

						<div id="staff-bonus-more-detail-table-container" class="collapse" style="">
							<div class="card-body">
								<table class="table" id="two_months_more_staff_table_bonus_detail-1" style="max-height: 100vh">
									<thead>
										<tr>
											<th scope="col">#</th>
											<th scope="col">Staff </th>
											<th scope="col">Account Type</th>
											<th scope="col">Lot</th>
											<th scope="col">Bonus</th>
											<th scope="col">Bonus Total IDR</th>
										</tr>
									</thead>
									<tbody>
										{% for staff_id, bonus_detail in staff_more_two_months_trades.items %}
											{% if 'total' not in bonus_detail %}
												<tr>
													<td >{{forloop.counter}}</td> 
													<td >{{staff_id_name_dict|dict_get:staff_id}}</td>
													<td >ALL</td> 
													<td >{{bonus_detail.total_lot|str_currency}}</td> 
													<td >{{bonus_detail.total_usd|str_currency}}</td> 
													<td >Rp. {{bonus_detail.total_idr|str_currency}}</td> 
												<tr>
											{% endif %}
										{% endfor %}
									</tbody>
								</table>
								{% comment %}
								<table class="table" id="two_months_staff_table_bonus_detail-1" style="max-height: 100vh">
									<thead>
										<tr>
											<th scope="col">#</th>
											<th scope="col">SPV Name</th>
											<th scope="col">Staff Name</th>
											<th scope="col">Client Name</th>
											<th scope="col">Created At</th>
											<th scope="col">Account Age (Days)</th>
											<th scope="col">Login</th>
											<th scope="col">Account Type</th>
											<!-- <th scope="col">Bonus</th> -->
											<th scope="col">Lot</th>
											<th scope="col">Bonus</th>
											<th scope="col">Bonus Total (Bonus * Lot)</th>
											<th scope="col">Bonus Total Rupiah (Bonus * Rate)</th>
											<th scope="col">Rate</th>
											
										</tr>
									</thead>
									<tbody>

									{% for supervisor_id, account_type_dict in supervisor_two_months_trades.items %}
										{% for account_type, trade_dict in account_type_dict.items %}
											{% with trade_dict.trade_list as trade_list %}
												{% for trade in trade_list %}
													<tr>
													   <td >{{forloop.counter}}</td> 
														
														<td >{{staff_id_name_dict|dict_get:supervisor_id}}</td>
														<td >{{trade.staff_name}}</td>
														<td >{{trade.client_name}}</td>
														<td >{{trade.created_at|date:'d-m-Y H:i'}}</td>
														<td style="text-align:center">{{trade.account_ages}} days</td>
														
														<td scope="row">{{trade.login_id}}</td>
														
														<td style="text-align:center">{{account_type}}</td>
														
														<td>
														   {{trade.total_lot}}
														</td>
														
														
														<td style="text-align:center">
															{{trade.supervisor_bonus}}
														</td>

														<td style="text-align:right">
															{{trade.supervisor_usd_bonus}}$
														</td>

														<td style="text-align:right;">
															Rp. {{trade.supervisor_idr_bonus|str_currency}}
														</td>
														<td style="text-align:center">
															{{trade.rate}}
														</td>
																		
														
														
													</tr>
												{% endfor %}
											{% endwith %}
										{% endfor %}
									{% endfor %}
									</tbody>
								</table>
								{% endcomment %}			
							</div>
						</div>
					</div>
				</div>
			</div>
			
			<div class="row mb-3">
				<div class="col-12 col-custom-table" style="height: 100%;">
					<div class="card">
						<div class="card-header" style="background-color: #e8f5eb;">
							<div style="width:100%" class="d-flex justify-content-between">
								<h6 class="card-title">
									<a data-toggle="collapse" class="text-body collapsed" href="#staff-bonus-pribadi-detail-table-container" aria-expanded="false" id="two-months-staff-collaspe"># Staff Bonus Detail Pribadi
									</a>
								</h6>
								<div style="display:flex;flex-direction:column; justify-content:flex-end">
									<span style="color: green;font-weight:bold;text-align: right">Rp. {{data_pribadi_months_bonus_dict.staff.total_idr|str_currency}}</span>
								  	<span style="color: green;font-weight:bold;text-align: right">$ {{data_pribadi_months_bonus_dict.staff.total_usd|str_currency}}</span>
								  	<span style="color: green;font-weight:bold;text-align: right">Lot {{data_pribadi_months_bonus_dict.staff.total_lot|str_currency}}</span>
								</div>

							</div>
						</div>

						<div id="staff-bonus-pribadi-detail-table-container" class="collapse" style="">
							<div class="card-body">
								<table class="table" id="two_months_pribadu_staff_table_bonus_detail-1" style="max-height: 100vh">
									<thead>
										<tr>
											<th scope="col">#</th>
											<th scope="col">Staff </th>
											<th scope="col">Account Type</th>
											<th scope="col">Lot</th>
											<th scope="col">Bonus</th>
											<th scope="col">Bonus Total IDR</th>
										</tr>
									</thead>
									<tbody>
										{% for staff_id, bonus_detail in staff_data_pribadi_trades.items %}
											{% if 'total' not in bonus_detail %}
												<tr>
													<td >{{forloop.counter}}</td> 
													<td >{{staff_id_name_dict|dict_get:staff_id}}</td>
													<td >ALL</td> 
													<td >{{bonus_detail.total_lot|str_currency}}</td> 
													<td >{{bonus_detail.total_usd|str_currency}}</td> 
													<td >Rp. {{bonus_detail.total_idr|str_currency}}</td> 
												<tr>
											{% endif %}
										{% endfor %}
									</tbody>
								</table>
								{% comment %}
								<table class="table" id="two_months_staff_table_bonus_detail-1" style="max-height: 100vh">
									<thead>
										<tr>
											<th scope="col">#</th>
											<th scope="col">SPV Name</th>
											<th scope="col">Staff Name</th>
											<th scope="col">Client Name</th>
											<th scope="col">Created At</th>
											<th scope="col">Account Age (Days)</th>
											<th scope="col">Login</th>
											<th scope="col">Account Type</th>
											<!-- <th scope="col">Bonus</th> -->
											<th scope="col">Lot</th>
											<th scope="col">Bonus</th>
											<th scope="col">Bonus Total (Bonus * Lot)</th>
											<th scope="col">Bonus Total Rupiah (Bonus * Rate)</th>
											<th scope="col">Rate</th>
											
										</tr>
									</thead>
									<tbody>

									{% for supervisor_id, account_type_dict in supervisor_two_months_trades.items %}
										{% for account_type, trade_dict in account_type_dict.items %}
											{% with trade_dict.trade_list as trade_list %}
												{% for trade in trade_list %}
													<tr>
													   <td >{{forloop.counter}}</td> 
														
														<td >{{staff_id_name_dict|dict_get:supervisor_id}}</td>
														<td >{{trade.staff_name}}</td>
														<td >{{trade.client_name}}</td>
														<td >{{trade.created_at|date:'d-m-Y H:i'}}</td>
														<td style="text-align:center">{{trade.account_ages}} days</td>
														
														<td scope="row">{{trade.login_id}}</td>
														
														<td style="text-align:center">{{account_type}}</td>
														
														<td>
														   {{trade.total_lot}}
														</td>
														
														
														<td style="text-align:center">
															{{trade.supervisor_bonus}}
														</td>

														<td style="text-align:right">
															{{trade.supervisor_usd_bonus}}$
														</td>

														<td style="text-align:right;">
															Rp. {{trade.supervisor_idr_bonus|str_currency}}
														</td>
														<td style="text-align:center">
															{{trade.rate}}
														</td>
																		
														
														
													</tr>
												{% endfor %}
											{% endwith %}
										{% endfor %}
									{% endfor %}
									</tbody>
								</table>
								{% endcomment %}			
							</div>
						</div>
					</div>
				</div>
			</div>
			<!-- taro disini -->
		</div>
	</div>
</div>

{% comment %}
<div class="row">
	<div class="card col-12 px-2">
		<div class="card-body">
			<div class="row">
				<div class="col-4">
					<h5 style="color:green">Bonus Total 2 Bulan</h5>
				</div>
				<div class="col-4">
					<h5 style="color:green">Bonus Supervisor 2 Bulan</h5>
				</div>
				<div class="col-4">
					<h5 style="color:green">Bonus Staff 2 Bulan</h5>
				</div>
			</div>
			<div class="row mb-3" style="line-height: 1">
				<div class="col-4" style="display: flex;">
					<div class="py-2 " >
						<div style="display: inline-block;" class="mr-3 gadget_green p-3">
							<h1 class="p-0 m-0" style="color:green;font-size: 2.5em;line-height:1">
								
								{{two_months_bonus_dict.total.total_usd|str_currency|default:'-'}}
								
							</h1>
							<p class="mb-0">Total Bonus $US</p>
						</div>
						
					</div>
					<div class="py-2 " >
						<div style="display: inline-block;" class="mr-3 gadget_green p-3">
							<h1 class="p-0 m-0" style="color:green;font-size: 2.5em;line-height:1">
								{{two_months_bonus_dict.total.total_idr|str_currency|default:'-'}}
							</h1>
							<p class="mb-0">Total Bonus IDR</p>
						</div>
						
					</div>   
				</div>
				<div class="col-4" style="display: flex;">
					<div class="py-2 " >
						<div style="display: inline-block;" class="mr-3 gadget_green p-3">
							<h1 class="p-0 m-0" style="color:green;font-size: 2.5em;line-height:1">
								
								{{two_months_bonus_dict.supervisor.total_usd|str_currency|default:'-'}}
								
							</h1>
							<p class="mb-0">Total Bonus $US</p>
						</div>
						
					</div>
					<div class="py-2 " >
						<div style="display: inline-block;" class="mr-3 gadget_green p-3">
							<h1 class="p-0 m-0" style="color:green;font-size: 2.5em;line-height:1">
								{{two_months_bonus_dict.supervisor.total_idr|str_currency|default:'-'}}
							</h1>
							<p class="mb-0">Total Bonus IDR</p>
						</div>
						
					</div>   
				</div>
				<div class="col-4" style="display: flex;">
					<div class="py-2 " >
						<div style="display: inline-block;" class="mr-3 gadget_green p-3">
							<h1 class="p-0 m-0" style="color:green;font-size: 2.5em;line-height:1">
								
								{{two_months_bonus_dict.staff.total_usd|str_currency|default:'-'}}
								
							</h1>
							<p class="mb-0">Total Bonus $US</p>
						</div>
						
					</div>
					<div class="py-2 " >
						<div style="display: inline-block;" class="mr-3 gadget_green p-3">
							<h1 class="p-0 m-0" style="color:green;font-size: 2.5em;line-height:1">
								{{two_months_bonus_dict.staff.total_idr|str_currency|default:'-'}}
							</h1>
							<p class="mb-0">Total Bonus IDR</p>
						</div>
						
					</div>   
				</div>
			</div>
			
			<div class="row mb-3" style="line-height: 1">
			</div>

			<div class="col-12 pt-2 " style="height: 100%;">

				<h5>Staff Bonus Detail </h5>
				<div class="card p-2" style="">

					<table class="table" id="table_bonus_more_than_two_months" style="max-height: 100vh">
					  <thead>
							<tr>
								<th scope="col">#</th>
								<th scope="col">Staff Name</th>
								<th scope="col">Client Name</th>
								<th scope="col">Created At</th>
								<th scope="col">Account Age (Days)</th>
								<th scope="col">Login</th>
								<th scope="col">Account Type</th>
								<!-- <th scope="col">Bonus</th> -->
								<th scope="col">Lot</th>
								<th scope="col">Bonus</th>
								<th scope="col">Bonus Total (Bonus * Lot)</th>
								<th scope="col">Bonus Total Rupiah (Bonus * Rate)</th>
								<th scope="col">Rate</th>
								
							</tr>
						</thead>
						<tbody>
						{% for staff_id, account_type_dict in staff_two_months_trades.items %}
							{% for account_type, trade_dict in account_type_dict.items %}
								{% with trade_dict.trade_list as trade_list %}
									{% for trade in trade_list %}
										<tr>
										   <td >{{forloop.counter}}</td> 
											<td >{{trade.staff_name}}</td>
											<td >{{trade.client_name}}</td>
											<td >{{trade.created_at|date:'d-m-Y H:i'}}</td>
											<td style="text-align:center">{{trade.account_ages}} days</td>
											
											<td scope="row">{{trade.login_id}}</td>
											
											<td style="text-align:center">{{account_type}}</td>
											
											<td>
											   {{trade.total_lot}}
											</td>
											
											
											<td style="text-align:center">
												{{trade.bonus}}
											</td>

											<td style="text-align:right">
												{{trade.usd_bonus}}$
											</td>

											<td style="text-align:right;">
												Rp. {{trade.idr_bonus|str_currency}}
											</td>
											<td style="text-align:center">
												{{trade.rate}}
											</td>
															
											
											
										</tr>
									{% endfor %}
								{% endwith %}
							{% endfor %}
						{% endfor %}
					
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div>
</div>
<div class="row">
	<div class="card col-12 px-2">
		<div class="card-body">
			<div class="row">
				<div class="col-4">
					<h5 style="color:green">Bonus Total > 2 Bulan</h5>
				</div>
				<div class="col-4">
					<h5 style="color:green">Bonus Supervisor > 2 Bulan</h5>
				</div>
				<div class="col-4">
					<h5 style="color:green">Bonus Staff > 2 Bulan</h5>
				</div>
			</div>
			<div class="row mb-3" style="line-height: 1">
				<div class="col-4" style="display: flex;">
					<div class="py-2 " >
						<div style="display: inline-block;" class="mr-3 gadget_green p-3">
							<h1 class="p-0 m-0" style="color:green;font-size: 2.5em;line-height:1">
								
								{{more_two_months_bonus_dict.total.total_usd|str_currency|default:'-'}}
								
							</h1>
							<p class="mb-0">Total Bonus $US</p>
						</div>
						
					</div>
					<div class="py-2 " >
						<div style="display: inline-block;" class="mr-3 gadget_green p-3">
							<h1 class="p-0 m-0" style="color:green;font-size: 2.5em;line-height:1">
								{{more_two_months_bonus_dict.total.total_idr|str_currency|default:'-'}}
							</h1>
							<p class="mb-0">Total Bonus IDR</p>
						</div>
						
					</div>   
				</div>
				<div class="col-4" style="display: flex;">
					<div class="py-2 " >
						<div style="display: inline-block;" class="mr-3 gadget_green p-3">
							<h1 class="p-0 m-0" style="color:green;font-size: 2.5em;line-height:1">
								
								{{more_two_months_bonus_dict.supervisor.total_usd|str_currency|default:'-'}}
								
							</h1>
							<p class="mb-0">Total Bonus $US</p>
						</div>
						
					</div>
					<div class="py-2 " >
						<div style="display: inline-block;" class="mr-3 gadget_green p-3">
							<h1 class="p-0 m-0" style="color:green;font-size: 2.5em;line-height:1">
								{{more_two_months_bonus_dict.supervisor.total_idr|str_currency|default:'-'}}
							</h1>
							<p class="mb-0">Total Bonus IDR</p>
						</div>
						
					</div>   
				</div>
				<div class="col-4" style="display: flex;">
					<div class="py-2 " >
						<div style="display: inline-block;" class="mr-3 gadget_green p-3">
							<h1 class="p-0 m-0" style="color:green;font-size: 2.5em;line-height:1">
								
								{{more_two_months_bonus_dict.staff.total_usd|str_currency|default:'-'}}
								
							</h1>
							<p class="mb-0">Total Bonus $US</p>
						</div>
						
					</div>
					<div class="py-2 " >
						<div style="display: inline-block;" class="mr-3 gadget_green p-3">
							<h1 class="p-0 m-0" style="color:green;font-size: 2.5em;line-height:1">
								{{more_two_months_bonus_dict.staff.total_idr|str_currency|default:'-'}}
							</h1>
							<p class="mb-0">Total Bonus IDR</p>
						</div>
						
					</div>   
				</div>
			</div>
			<div class="row mb-3" style="line-height: 1">
				<!-- <div class="col-12 py-2" >
					<div class="row">
						<div class="col-4">
							<div style="width: 100%;" class="mr-3 gadget_green p-3">
								<h1 class="p-0 m-0" style="color:green;font-size: 2em;line-height:1">
									{% with two_months_bonus_dict|dict_get:'elastico' as elastico_two_months_dict %}
										{{elastico_two_months_dict|dict_get:'total_lot'|num_format_decimal|default:'-'}}
									{% endwith %}
								</h1>
								<p class="mb-0">Total Lot Elastico (Less than 2 Month)</p>

								<h1 class="p-0 m-0 mt-1 pt-2" style="color:green;font-size: 1.5em;line-height:1">
									{% with two_months_bonus_dict|dict_get:'elastico' as elastico_two_months_dict %}
										{{elastico_two_months_dict|dict_get:'bonus_tier'|default:'-'}}
									{% endwith %}
								</h1>
								<p class="mb-0">Tier Elastico (Less than 2 Month)</p>
							</div>
						</div>
						<div class="col-4">
							<div style="width: 100%;"  class="mr-3 gadget_green p-3">
								<h1 class="p-0 m-0" style="color:green;font-size: 2em;line-height:1">
									{% with two_months_bonus_dict|dict_get:'elektro' as elektro_two_months_dict %}
										{{elektro_two_months_dict|dict_get:'total_lot'|num_format_decimal|default:'-'}}
									{% endwith %}
								</h1>
								<p class="mb-0">Total Lot Electro (Less than 2 Month)</p>

								<h1 class="p-0 m-0 mt-1 pt-2" style="color:green;font-size: 1.5em;line-height:1">
									{% with two_months_bonus_dict|dict_get:'elektro' as elektro_two_months_dict %}
										{{elektro_two_months_dict|dict_get:'bonus_tier'|default:'-'}}
									{% endwith %}
								</h1>
								<p class="mb-0">Tier Electro (Less than 2 Month)</p>
							</div>
						</div>
						<div class="col-4">
							 <div style="width: 100%;"  class="mr-3 gadget_green p-3">
								<h1 class="p-0 m-0" style="color:green;font-size: 2em;line-height:1">
									{% with two_months_bonus_dict|dict_get:'magneto' as magneto_two_months_dict %}
										{{magneto_two_months_dict|dict_get:'total_lot'|num_format_decimal|default:'-'}}
									{% endwith %}
								</h1>
								<p class="mb-0">Total Lot Magneto (Less than 2 Month)</p>

								<h1 class="p-0 m-0 mt-1 pt-2" style="color:green;font-size: 1.5em;line-height:1">
									{% with two_months_bonus_dict|dict_get:'magneto' as magneto_two_months_dict %}
										{{magneto_two_months_dict|dict_get:'bonus_tier'|default:'-'}}
									{% endwith %}
								</h1>
								<p class="mb-0">Tier Magneto (Less than 2 Month)</p>
							</div>
						</div>
					</div>
				</div> -->    	
				
				<!-- <div class="col-12 py-2 " >
					<div class="row">
						<div class="col-4">
							<div style="width: 100%;"  class="mr-3 gadget_green p-3">
								<h1 class="p-0 m-0" style="color:green;font-size: 2em;line-height:1">
									{% with more_two_months_bonus_dict|dict_get:'elastico' as elastico_more_two_months_dict %}
										{{elastico_more_two_months_dict|dict_get:'total_lot'|num_format_decimal|default:'-'}}
									{% endwith %}
								</h1>
								<p class="mb-0">Total Lot Elastico (More than 2 Month)</p>

								<h1 class="p-0 m-0 mt-1" style="color:green;font-size: 1.5em;line-height:1">
									{% with more_two_months_bonus_dict|dict_get:'elastico' as elastico_more_two_months_dict %}
										{{elastico_more_two_months_dict|dict_get:'bonus_tier'|default:'-'}}
									{% endwith %}
								</h1>
								<p class="mb-0">Tier Elastico (More than 2 Month)</p>
							</div>
						</div>
						
						<div class="col-4">
							<div style="width: 100%;"  class="mr-3 gadget_green p-3">
								<h1 class="p-0 m-0" style="color:green;font-size: 2em;line-height:1">
									{% with more_two_months_bonus_dict|dict_get:'elektro' as eletro_more_two_months_dict %}
										{{eletro_more_two_months_dict|dict_get:'total_lot'|num_format_decimal|default:'-'}}
									{% endwith %}
								</h1>
								<p class="mb-0">Total Lot Electro (More than 2 Month)</p>

								<h1 class="p-0 m-0 mt-1" style="color:green;font-size: 1.5em;line-height:1">
									-
								</h1>
								<p class="mb-0">Tier Electro (More than 2 Month)</p>
							</div>
						</div>
						
						<div class="col-4">
							 <div style="width: 100%;"  class="mr-3 gadget_green p-3">
								<h1 class="p-0 m-0" style="color:green;font-size: 2em;line-height:1">
									{% with more_two_months_bonus_dict|dict_get:'magneto' as magneto_more_two_months_dict %}
										{{magneto_more_two_months_dict|dict_get:'total_lot'|num_format_decimal|default:'-'}}
									{% endwith %}
								</h1>
								<p class="mb-0">Total Lot Magneto (More than 2 Month)</p>

								<h1 class="p-0 m-0 mt-1" style="color:green;font-size: 1.5em;line-height:1">
									{% with more_two_months_bonus_dict|dict_get:'elastico' as elastico_more_two_months_dict %}
										{{elastico_more_two_months_dict|dict_get:'bonus_tier'|default:'-'}}
									{% endwith %}
								</h1>
								<p class="mb-0">Tier Magneto (More than 2 Month)</p>
							</div>
						</div>

					</div>
					
				</div> -->
			</div>
			<div class="row mb-3">
				<div class="col-12 col-custom-table" style="height: 100%;">
					<h5>Supervisor Bonus Detail </h5>
					<div class="card p-2" style="">

						<table class="table" id="table_bonus" style="max-height: 100vh">
							<thead>
								<tr>
									<th scope="col">#</th>
									<th scope="col">SPV Name</th>
									<th scope="col">Staff Name</th>
									<th scope="col">Client Name</th>
									<th scope="col">Created At</th>
									<th scope="col">Account Age (Days)</th>
									<th scope="col">Login</th>
									<th scope="col">Account Type</th>
									<!-- <th scope="col">Bonus</th> -->
									<th scope="col">Lot</th>
									<th scope="col">Bonus</th>
									<th scope="col">Bonus Total (Bonus * Lot)</th>
									<th scope="col">Bonus Total Rupiah (Bonus * Rate)</th>
									<th scope="col">Rate</th>
									
								</tr>
							</thead>
							<tbody>

							{% for supervisor_id, account_type_dict in supervisor_more_two_months_trades.items %}
								{% for account_type, trade_dict in account_type_dict.items %}
									{% with trade_dict.supervisor_trade_list as trade_list %}
										{% for trade in trade_list %}
											<tr>
											   <td >{{forloop.counter}}</td> 
												
												<td >{{staff_id_name_dict|dict_get:supervisor_id}}</td>
												<td >{{trade.staff_name}}</td>
												<td >{{trade.client_name}}</td>
												<td >{{trade.created_at|date:'d-m-Y H:i'}}</td>
												<td style="text-align:center">{{trade.account_ages}} days</td>
												
												<td scope="row">{{trade.login_id}}</td>
												
												<td style="text-align:center">{{account_type}}</td>
												
												<td>
												   {{trade.total_lot}}
												</td>
												
												
												<td style="text-align:center">
													{{trade.supervisor_bonus}}
												</td>

												<td style="text-align:right">
													{{trade.supervisor_usd_bonus}}$
												</td>

												<td style="text-align:right;">
													Rp. {{trade.supervisor_idr_bonus|str_currency}}
												</td>
												<td style="text-align:center">
													{{trade.rate}}
												</td>
																
												
												
											</tr>
										{% endfor %}
									{% endwith %}
								{% endfor %}
							{% endfor %}
							</tbody>
						</table>
					</div>
				</div>
			</div>
			<div class="col-12 pt-2 " style="height: 100%;">
				<h5>Staff Bonus Detail </h5>
				<div class="card p-2" style="">

					<table class="table" id="table_bonus_more_than_two_months" style="max-height: 100vh">
					  <thead>
							<tr>
								<th scope="col">#</th>
								<th scope="col">Staff Name</th>
								<th scope="col">Client Name</th>
								<th scope="col">Created At</th>
								<th scope="col">Account Age (Days)</th>
								<th scope="col">Login</th>
								<th scope="col">Account Type</th>
								<!-- <th scope="col">Bonus</th> -->
								<th scope="col">Lot</th>
								<th scope="col">Bonus</th>
								<th scope="col">Bonus Total (Bonus * Lot)</th>
								<th scope="col">Bonus Total Rupiah (Bonus * Rate)</th>
								<th scope="col">Rate</th>
								
							</tr>
						</thead>
						<tbody>
						{% for staff_id, account_type_dict in staff_more_two_months_trades.items %}
							{% for account_type, trade_dict in account_type_dict.items %}
								{% with trade_dict.trade_list as trade_list %}
									{% for trade in trade_list %}
										<tr>
										   <td >{{forloop.counter}}</td> 
											<td >{{trade.staff_name}}</td>
											<td >{{trade.client_name}}</td>
											<td >{{trade.created_at|date:'d-m-Y H:i'}}</td>
											<td style="text-align:center">{{trade.account_ages}} days</td>
											
											<td scope="row">{{trade.login_id}}</td>
											
											<td style="text-align:center">{{account_type}}</td>
											
											<td>
											   {{trade.total_lot}}
											</td>
											
											
											<td style="text-align:center">
												{{trade.bonus}}
											</td>

											<td style="text-align:right">
												{{trade.usd_bonus}}$
											</td>

											<td style="text-align:right;">
												Rp. {{trade.idr_bonus|str_currency}}
											</td>
											<td style="text-align:center">
												{{trade.rate}}
											</td>
															
											
											
										</tr>
									{% endfor %}
								{% endwith %}
							{% endfor %}
						{% endfor %}
					
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div>
</div>
<div class="row">
	<div class="card col-12 px-2">
		<div class="card-body">
			<div class="row">
				<div class="col-4">
					<h5 style="color:green">Bonus Pribadi</h5>
				</div>
				<div class="col-4">
					<h5 style="color:green">Bonus Supervisor</h5>
				</div>
				<div class="col-4">
					<h5 style="color:green">Bonus Staff</h5>
				</div>
			</div>
			<div class="row mb-3" style="line-height: 1">
				<div class="col-4" style="display: flex;">
					<div class="py-2 " >
						<div style="display: inline-block;" class="mr-3 gadget_green p-3">
							<h1 class="p-0 m-0" style="color:green;font-size: 2.5em;line-height:1">
								
								{{data_pribadi_months_bonus_dict.total.total_usd|str_currency|default:'-'}}
								
							</h1>
							<p class="mb-0">Total Bonus $US</p>
						</div>
						
					</div>
					<div class="py-2 " >
						<div style="display: inline-block;" class="mr-3 gadget_green p-3">
							<h1 class="p-0 m-0" style="color:green;font-size: 2.5em;line-height:1">
								{{data_pribadi_months_bonus_dict.total.total_idr|str_currency|default:'-'}}
							</h1>
							<p class="mb-0">Total Bonus IDR</p>
						</div>
						
					</div>   
				</div>
				<div class="col-4" style="display: flex;">
					<div class="py-2 " >
						<div style="display: inline-block;" class="mr-3 gadget_green p-3">
							<h1 class="p-0 m-0" style="color:green;font-size: 2.5em;line-height:1">
								
								{{data_pribadi_months_bonus_dict.supervisor.total_usd|str_currency|default:'-'}}
								
							</h1>
							<p class="mb-0">Total Bonus $US</p>
						</div>
						
					</div>
					<div class="py-2 " >
						<div style="display: inline-block;" class="mr-3 gadget_green p-3">
							<h1 class="p-0 m-0" style="color:green;font-size: 2.5em;line-height:1">
								{{data_pribadi_months_bonus_dict.supervisor.total_idr|str_currency|default:'-'}}
							</h1>
							<p class="mb-0">Total Bonus IDR</p>
						</div>
						
					</div>   
				</div>
				<div class="col-4" style="display: flex;">
					<div class="py-2 " >
						<div style="display: inline-block;" class="mr-3 gadget_green p-3">
							<h1 class="p-0 m-0" style="color:green;font-size: 2.5em;line-height:1">
								
								{{data_pribadi_months_bonus_dict.staff.total_usd|str_currency|default:'-'}}
								
							</h1>
							<p class="mb-0">Total Bonus $US</p>
						</div>
						
					</div>
					<div class="py-2 " >
						<div style="display: inline-block;" class="mr-3 gadget_green p-3">
							<h1 class="p-0 m-0" style="color:green;font-size: 2.5em;line-height:1">
								{{data_pribadi_months_bonus_dict.staff.total_idr|str_currency|default:'-'}}
							</h1>
							<p class="mb-0">Total Bonus IDR</p>
						</div>
						
					</div>   
				</div>
			</div>
			<div class="row mb-3" style="line-height: 1">
			</div>
			<div class="row mb-3">
				<div class="col-12 col-custom-table" style="height: 100%;">
					<h5>Supervisor Bonus Detail </h5>
					<div class="card p-2" style="">

						<table class="table" id="table_bonus" style="max-height: 100vh">
							<thead>
								<tr>
									<th scope="col">#</th>
									<th scope="col">SPV Name</th>
									<th scope="col">Staff Name</th>
									<th scope="col">Client Name</th>
									<th scope="col">Created At</th>
									<th scope="col">Account Age (Days)</th>
									<th scope="col">Login</th>
									<th scope="col">Account Type</th>
									<!-- <th scope="col">Bonus</th> -->
									<th scope="col">Lot</th>
									<th scope="col">Bonus</th>
									<th scope="col">Bonus Total (Bonus * Lot)</th>
									<th scope="col">Bonus Total Rupiah (Bonus * Rate)</th>
									<th scope="col">Rate</th>
									
								</tr>
							</thead>
							<tbody>

							{% for supervisor_id, account_type_dict in supervisor_data_pribadi_trades.items %}
								{% for account_type, trade_dict in account_type_dict.items %}
									{% with trade_dict.supervisor_trade_list as trade_list %}
										{% for trade in trade_list %}
											<tr>
											   <td >{{forloop.counter}}</td> 
												
												<td >{{staff_id_name_dict|dict_get:supervisor_id}}</td>
												<td >{{trade.staff_name}}</td>
												<td >{{trade.client_name}}</td>
												<td >{{trade.created_at|date:'d-m-Y H:i'}}</td>
												<td style="text-align:center">{{trade.account_ages}} days</td>
												
												<td scope="row">{{trade.login_id}}</td>
												
												<td style="text-align:center">{{account_type}}</td>
												
												<td>
												   {{trade.total_lot}}
												</td>
												
												
												<td style="text-align:center">
													{{trade.supervisor_bonus}}
												</td>

												<td style="text-align:right">
													{{trade.supervisor_usd_bonus}}$
												</td>

												<td style="text-align:right;">
													Rp. {{trade.supervisor_idr_bonus|str_currency}}
												</td>
												<td style="text-align:center">
													{{trade.rate}}
												</td>
																
												
												
											</tr>
										{% endfor %}
									{% endwith %}
								{% endfor %}
							{% endfor %}
							</tbody>
						</table>
					</div>
				</div>
			</div>
			<div class="col-12 pt-2 " style="height: 100%;">
				<h5>Staff Bonus Detail </h5>
				<div class="card p-2" style="">

					<table class="table" id="table_bonus_more_than_two_months" style="max-height: 100vh">
					  <thead>
							<tr>
								<th scope="col">#</th>
								<th scope="col">Staff Name</th>
								<th scope="col">Client Name</th>
								<th scope="col">Created At</th>
								<th scope="col">Account Age (Days)</th>
								<th scope="col">Login</th>
								<th scope="col">Account Type</th>
								<!-- <th scope="col">Bonus</th> -->
								<th scope="col">Lot</th>
								<th scope="col">Bonus</th>
								<th scope="col">Bonus Total (Bonus * Lot)</th>
								<th scope="col">Bonus Total Rupiah (Bonus * Rate)</th>
								<th scope="col">Rate</th>
								
							</tr>
						</thead>
						<tbody>
						{% for staff_id, account_type_dict in staff_data_pribadi_trades.items %}
							{% for account_type, trade_dict in account_type_dict.items %}
								{% with trade_dict.trade_list as trade_list %}
									{% for trade in trade_list %}
										<tr>
										   <td >{{forloop.counter}}</td> 
											<td >{{trade.staff_name}}</td>
											<td >{{trade.client_name}}</td>
											<td >{{trade.created_at|date:'d-m-Y H:i'}}</td>
											<td style="text-align:center">{{trade.account_ages}} days</td>
											
											<td scope="row">{{trade.login_id}}</td>
											
											<td style="text-align:center">{{account_type}}</td>
											
											<td>
											   {{trade.total_lot}}
											</td>
											
											
											<td style="text-align:center">
												{{trade.bonus}}
											</td>

											<td style="text-align:right">
												{{trade.usd_bonus}}$
											</td>

											<td style="text-align:right;">
												Rp. {{trade.idr_bonus|str_currency}}
											</td>
											<td style="text-align:center">
												{{trade.rate}}
											</td>
															
											
											
										</tr>
									{% endfor %}
								{% endwith %}
							{% endfor %}
						{% endfor %}
					
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div>
</div>
{% if show_ib_bonus == True %}
<div class="row">
	<div class="card col-12 px-2">
		<div class="card-body">
			<div class="row">
				<div class="col-12">
					<h5 style="color:green">Bonus IB</h5>
				</div>
			</div>
			<div class="row mb-3" style="line-height: 1">
				<div class="col-12" style="display: flex;">
					<div class="py-2 " >
						<div style="display: inline-block;" class="mr-3 gadget_green p-3">
							<h1 class="p-0 m-0" style="color:green;font-size: 2.5em;line-height:1">
								
								{{total_bonus_ib_usd|num_format_decimal|default:'-'}}
								
							</h1>
							<p class="mb-0">Total Bonus $US</p>
						</div>
						
					</div>
					<div class="py-2 " >
						<div style="display: inline-block;" class="mr-3 gadget_green p-3">
							<h1 class="p-0 m-0" style="color:green;font-size: 2.5em;line-height:1">
								{{total_bonus_ib_idr|str_currency|default:'-'}}
							</h1>
							<p class="mb-0">Total Bonus IDR</p>
						</div>
						
					</div>       
				</div>
				<div class="col-12 py-2" >
					<div class="row">
						<div class="col-4">
							<div style="width: 100%;" class="mr-3 gadget_green p-3">
								<h1 class="p-0 m-0" style="color:green;font-size: 2em;line-height:1">
									{% with ib_bonus_dict|dict_get:'elastico' as elastico_two_months_dict %}
										{{elastico_two_months_dict|dict_get:'total_lot'|num_format_decimal|default:'-'}}
									{% endwith %}
								</h1>
								<p class="mb-0">Total Lot Elastico</p>
								<h1 class="pt-2 m-0" style="color:green;font-size: 2em;line-height:1;">
									{% with ib_bonus_dict|dict_get:'elastico' as elastico_two_months_dict %}
										{{elastico_two_months_dict|dict_get:'total_usd'|num_format_decimal|default:'-'}}
									{% endwith %}
								</h1>
								<p class="mb-0">Total Komisi $</p>
							</div>
						</div>
						<div class="col-4">
							<div style="width: 100%;"  class="mr-3 gadget_green p-3">
								<h1 class="p-0 m-0" style="color:green;font-size: 2em;line-height:1">
									{% with ib_bonus_dict|dict_get:'elektro' as elektro_two_months_dict %}
										{{elektro_two_months_dict|dict_get:'total_lot'|num_format_decimal|default:'-'}}
									{% endwith %}
								</h1>
								<p class="mb-0">Total Lot Electro</p>
								<h1 class="pt-2 m-0" style="color:green;font-size: 2em;line-height:1;">
									{% with ib_bonus_dict|dict_get:'elektro' as elastico_two_months_dict %}
										{{elastico_two_months_dict|dict_get:'total_usd'|num_format_decimal|default:'-'}}
									{% endwith %}
								</h1>
								<p class="mb-0">Total Komisi $</p>
							</div>
						</div>
						<div class="col-4">
							 <div style="width: 100%;"  class="mr-3 gadget_green p-3">
								<h1 class="p-0 m-0" style="color:green;font-size: 2em;line-height:1">
									{% with ib_bonus_dict|dict_get:'magneto' as magneto_two_months_dict %}
										{{magneto_two_months_dict|dict_get:'total_lot'|num_format_decimal|default:'-'}}
									{% endwith %}
								</h1>
								<p class="mb-0">Total Lot Magneto </p>
								<h1 class="pt-2 m-0" style="color:green;font-size: 2em;line-height:1;">
									{% with ib_bonus_dict|dict_get:'magneto' as elastico_two_months_dict %}
										{{elastico_two_months_dict|dict_get:'total_usd'|num_format_decimal|default:'-'}}
									{% endwith %}
								</h1>
								<p class="mb-0">Total Komisi $</p>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="col-12 pt-2 " style="height:100%">
				<h5>Bonus LOT IB </h5>
				<div class="card p-2" style="">

					<table class="table" id="table_bonus_ib" style="max-height: 100vh">
					  <thead>
							<tr>
								<th scope="col">#</th>
								<th scope="col">Name</th>
								<th scope="col">FC</th>
								<th scope="col">SPV</th>
								<th scope="col">Created At</th>
								<th scope="col">Account Age (Days)</th>
								<th scope="col">Login</th>
								<th scope="col">Account Type</th>
								<!-- <th scope="col">Bonus</th> -->
								<th scope="col">Lot</th>
								<th scope="col">Bonus</th>
								<th scope="col">Bonus Total (Bonus * Lot)</th>
								<th scope="col">Bonus Total Rupiah (Bonys * Rate)</th>
								<th scope="col">Rate</th>
								
							</tr>
						</thead>
					  <tbody>
						{% for meta_id, trade_dict in ib_client_trades.items %}
							<tr>
							   <th scope="row">{{forloop.counter}}</th> 
								
								<th scope="row">{{trade_dict.client_name|default:'-'}}</th>
								<td scope="row">{{trade_dict.staff_name }}</td>
								<td scope="row">{{trade_dict.supervisor_name }}</td>
								<th scope="row">{{trade_dict.created_at}}</th>
								<td >{{trade_dict.account_ages }} Days </td>
								
								<th scope="row">{{meta_id}}</th>
								
								<td >{{trade_dict.account_type }}</td>
								
								<td>
									{{trade_dict.total_lot }}
								</td>
								
								<td>
									{{trade_dict.bonus_lot_usd }}$
								</td>

								<td>
									{{trade_dict.total_usd}}$
								</td>

								<td>
									Rp. {{trade_dict.total_idr|str_currency}}
								</td>
								<td>
									{{trade_dict.rate }}
								</td>
												
								
								
							</tr>
						{% endfor %}
					
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div>
</div>
{% endif %}
{% endcomment %}
<script type="text/javascript">
	function change_filter(){
		from = $("#date-from-val").val()
		window.location = "{% url 'master-report-detail' %}"+"?date="+from

	}
	$( document ).ready(function() {
		$("#date-pick-from").datepicker( {
			format: "mm-yyyy",
			startView: "months", 
			minViewMode: "months"
		});

		// $("#table_ftd").DataTable({
		// 	dom: '<"datatable-header"fl><"datatable-scroll datatable-scroll-wrap"t><"datatable-footer"ip>',
		// 	pageLength: 10,
		// 	"autoWidth": false,
		// 	language: {
		// 		search: '<span>Filter:</span> _INPUT_',
		// 		searchPlaceholder: 'Type to filter...',
		// 		lengthMenu: '<span>Show:</span> _MENU_',
		// 	},
		// 	scrollX: true,
		// 	// scrollY: '350px',
			
		// 	fixedColumns: {
		// 		leftColumns: 3,
		// 	}
		// });
		// $('#table_ftd').DataTable().draw();

		var two_months_supervisor_table_bonus_detail = $("#two_months_supervisor_table_bonus_detail").DataTable({
			dom: '<"datatable-header"fl><"datatable-scroll datatable-scroll-wrap"t><"datatable-footer"ip>',
			pageLength: 10,
			language: {
				search: '<span>Filter:</span> _INPUT_',
				searchPlaceholder: 'Type to filter...',
				lengthMenu: '<span>Show:</span> _MENU_',
			},
			scrollX: true,
			// scrollY: '350px',
			
			fixedColumns: {
				leftColumns: 4,
			}
		});
		
		// $("#table_bonus_more_than_two_months").DataTable({
		// 	dom: '<"datatable-header"fl><"datatable-scroll datatable-scroll-wrap"t><"datatable-footer"ip>',
		// 	language: {
		// 		search: '<span>Filter:</span> _INPUT_',
		// 		searchPlaceholder: 'Type to filter...',
		// 		lengthMenu: '<span>Show:</span> _MENU_',
		// 	},
		// 	scrollX: true,
		// 	// scrollY: '350px',
		// 	scrollCollapse: true,
		// 	fixedColumns: {
		// 		leftColumns: 4,
		// 		// rightColumns: 1
		// 	}
		// });
		// $('#table_bonus_more_than_two_months').DataTable().draw();
		// $("#table_bonus_data_pribadi").DataTable({
		// 	dom: '<"datatable-header"fl><"datatable-scroll datatable-scroll-wrap"t><"datatable-footer"ip>',
		// 	language: {
		// 		search: '<span>Filter:</span> _INPUT_',
		// 		searchPlaceholder: 'Type to filter...',
		// 		lengthMenu: '<span>Show:</span> _MENU_',
		// 	},
		// 	scrollX: true,
		// 	// scrollY: '350px',
		// 	scrollCollapse: true,
		// 	fixedColumns: {
		// 		leftColumns: 4,
		// 		// rightColumns: 1
		// 	}
		// });
		// $('#table_bonus_data_pribadi').DataTable().draw();
		
		// $("#table_bonus_ib").DataTable({
		// 	dom: '<"datatable-header"fl><"datatable-scroll datatable-scroll-wrap"t><"datatable-footer"ip>',
		// 	language: {
		// 		search: '<span>Filter:</span> _INPUT_',
		// 		searchPlaceholder: 'Type to filter...',
		// 		lengthMenu: '<span>Show:</span> _MENU_',
		// 	},
		// 	scrollX: true,
		// 	// scrollY: '350px',
		// 	scrollCollapse: true,
		// 	fixedColumns: {
		// 		leftColumns: 4,
		// 		// rightColumns: 1
		// 	}
		// });
		// $('#table_bonus_ib').DataTable().draw();
		
		$(document).on('xhr.dt', function(e, settings, json, xhr){
			$('#two-months-supervisor-collaspe').click(function(){
			   if (!$("#collapsible-control-right-group1").hasClass("show")) {
			   	console.log('open');
			   	console.log(two_months_supervisor_table_bonus_detail);
			   	two_months_supervisor_table_bonus_detail.draw(false);
			   	console.log('selesai');
			   }
			});
		});

		// $('.col-custom-table').css('height', '100%');
		console.log('finished')
		
	});
</script>
{% endblock content %}